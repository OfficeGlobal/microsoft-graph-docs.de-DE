# <a name="microsoft-graph-throttling-guidance"></a><span data-ttu-id="f47a3-101">Leitfaden zu Einschränkungen in Microsoft Graph</span><span class="sxs-lookup"><span data-stu-id="f47a3-101">Microsoft Graph throttling guidance</span></span>


<span data-ttu-id="f47a3-p101">Durch Einschränkungen wird die Anzahl der gleichzeitigen Aufrufe an einen Dienst begrenzt, um eine Überlastung von Ressourcen zu verhindern. Microsoft Graph ist für die Verarbeitung einer großen Menge von Anforderungen konzipiert. Wenn die Anzahl der Anforderungen jedoch zu hoch ist und zu einer Überlastung führen könnte, können Einschränkungen dazu beitragen, die optimale Leistung und Zuverlässigkeit des Microsoft Graph-Diensts aufrechtzuerhalten.</span><span class="sxs-lookup"><span data-stu-id="f47a3-p101">Throttling limits the number of concurrent calls to a service to prevent overuse of resources. Microsoft Graph is designed to handle a high volume of requests. If an overwhelming number of requests occurs, throttling helps maintain optimal performance and reliability of the Microsoft Graph service.</span></span>

<span data-ttu-id="f47a3-p102">Einschränkungsgrenzwerte variieren je nach Szenario. Wenn Sie beispielsweise eine große Anzahl von Schreibvorgängen ausführen, ist eine Einschränkung wahrscheinlicher, als wenn nur Lesevorgänge ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="f47a3-p102">Throttling limits vary based on the scenario. For example, if you are performing a large volume of writes, the possibility for throttling is higher than if you are only performing reads.</span></span>

## <a name="what-happens-when-throttling-occurs"></a><span data-ttu-id="f47a3-107">Was passiert im Fall einer Einschränkung?</span><span class="sxs-lookup"><span data-stu-id="f47a3-107">What happens when throttling occurs?</span></span>

<span data-ttu-id="f47a3-p103">Wenn ein Einschränkungsschwellenwert überschritten wird, begrenzt Microsoft Graph alle weiteren Anforderungen von diesem Client für einen bestimmten Zeitraum. Im Fall einer Einschränkung gibt Microsoft Graph den HTTP-Statuscode 429 (zu viele Anforderungen) zurück, und bei den Anforderungen tritt ein Fehler auf. Eine vorgeschlagene Wartezeit wird im Antwortheader der nicht ausgeführten Anforderung zurückgegeben. Das Einschränkungsverhalten kann vom Typ und der Anzahl der Anforderungen abhängen. Wenn z. B. eine große Menge von Anforderungen vorliegt, werden alle Anforderungstypen eingeschränkt. Die Schwellenwerte variieren je nach Anforderungstyp. Daher kann der Fall eintreten, dass Schreibvorgänge eingeschränkt werden, Lesevorgänge jedoch weiterhin zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="f47a3-p103">When a throttling threshold is exceeded, Microsoft Graph limits any further requests from that client for a period of time. When throttling occurs, Microsoft Graph returns HTTP status code 429 (Too many requests), and the requests fail. A suggested wait time is returned in the response header of the failed request. Throttling behavior can depend on the type and number of requests. For example, if you have a high volume of requests, all requests types are throttled. Threshold limits vary based on the request type. Therefore, you could encounter a scenario where writes are throttled but reads are still permitted.</span></span> 

## <a name="common-throttling-scenarios"></a><span data-ttu-id="f47a3-115">Allgemeine Einschränkungsszenarien</span><span class="sxs-lookup"><span data-stu-id="f47a3-115">Common throttling scenarios</span></span>

<span data-ttu-id="f47a3-116">Zu den häufigsten Ursachen für die Einschränkung von Clients zählen folgende:</span><span class="sxs-lookup"><span data-stu-id="f47a3-116">The most common causes of throttling of clients include:</span></span>

* <span data-ttu-id="f47a3-117">Eine große Anzahl von Anforderungen in allen Anwendungen in einem Mandanten.</span><span class="sxs-lookup"><span data-stu-id="f47a3-117">A large number of requests across all applications in a tenant.</span></span>
* <span data-ttu-id="f47a3-118">Eine große Anzahl von Anforderungen von einer bestimmten Anwendung in allen Mandanten.</span><span class="sxs-lookup"><span data-stu-id="f47a3-118">A large number of requests from a particular application across all tenants.</span></span>

## <a name="best-practices-to-handle-throttling"></a><span data-ttu-id="f47a3-119">Bewährte Methoden zum Behandeln der Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="f47a3-119">Best practices to handle throttling</span></span>

<span data-ttu-id="f47a3-120">Im Folgenden finden Sie bewährte Methoden für den Umgang mit Einschränkungen:</span><span class="sxs-lookup"><span data-stu-id="f47a3-120">The following are best practices for handling throttling:</span></span>

* <span data-ttu-id="f47a3-121">Verringern Sie die Anzahl der Vorgänge pro Anforderung.</span><span class="sxs-lookup"><span data-stu-id="f47a3-121">Reduce the number of operations per request.</span></span>
* <span data-ttu-id="f47a3-122">Verringern Sie die Häufigkeit von Aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f47a3-122">Reduce the frequency of calls.</span></span>
* <span data-ttu-id="f47a3-123">Vermeiden Sie sofortige Wiederholungsversuche, da alle Anforderungen auf Ihre Nutzungsgrenzwerte angerechnet werden.</span><span class="sxs-lookup"><span data-stu-id="f47a3-123">Avoid immediate retries, because all requests accrue against your usage limits.</span></span>

<span data-ttu-id="f47a3-124">Wenn Sie Fehlerbehandlung implementieren, verwenden Sie den HTTP-Fehlercode 429 zur Erkennung von Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="f47a3-124">When you implement error handling, use the HTTP error code 429 to detect throttling.</span></span> <span data-ttu-id="f47a3-125">Im Antwortheader der Fehlerantwort ist das Feld *Retry-After* enthalten.</span><span class="sxs-lookup"><span data-stu-id="f47a3-125">The failed response includes the *Retry-After* field in the response header.</span></span> <span data-ttu-id="f47a3-126">Das Zurückhalten von Anforderungen unter Anwendung der *Retry-After*-Verzögerung ist die schnellste Methode der Wiederherstellung nach Auftreten einer Einschränkung, da Microsoft Graph den Ressourceneinsatz weiterhin protokolliert, während ein Client eingeschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="f47a3-126">When you implement error handling, use the HTTP error code 429 to detect throttling. The failed response includes the Retry-After field in the response header. Backing off requests using the *Retry-After* delay is the fastest way to recover from throttling because Microsoft Graph continues to log resource usage while a client is being throttled.</span></span>

1. <span data-ttu-id="f47a3-127">Warten Sie die im Feld *Retry-After* angegebene Anzahl von Sekunden.</span><span class="sxs-lookup"><span data-stu-id="f47a3-127">Wait the number of seconds specified in the *Retry-After* field.</span></span>
2. <span data-ttu-id="f47a3-128">Wiederholen Sie die Anforderung.</span><span class="sxs-lookup"><span data-stu-id="f47a3-128">Retry the request.</span></span>
3. <span data-ttu-id="f47a3-p105">Wenn die Anforderung erneut nicht ausgeführt und der Fehlercode 429 zurückgegeben wird, unterliegen Sie weiterhin einer Einschränkung. Wiederholen Sie die Anforderung unter Anwendung der empfohlenen Retry-After-Verzögerung so lange, bis die Anforderung erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="f47a3-p105">If the request fails again with a 429 error code, you are still being throttled. Continue to use the recommended Retry-After delay and retry the request until it succeeds.</span></span>

<span data-ttu-id="f47a3-131">Folgende Ressourcen bieten derzeit einen Retry-After-Header:</span><span class="sxs-lookup"><span data-stu-id="f47a3-131">The following resources currently provide a retry-after header:</span></span>
- [<span data-ttu-id="f47a3-132">Benutzer</span><span class="sxs-lookup"><span data-stu-id="f47a3-132">User</span></span>](../api-reference/v1.0/resources/user.md)
- [<span data-ttu-id="f47a3-133">Foto</span><span class="sxs-lookup"><span data-stu-id="f47a3-133">Photo</span></span>](../api-reference/v1.0/resources/profilephoto.md)
- [<span data-ttu-id="f47a3-134">E-Mail</span><span class="sxs-lookup"><span data-stu-id="f47a3-134">mail</span></span>](../api-reference/v1.0/resources/message.md)
- [<span data-ttu-id="f47a3-135">Kalender (Benutzer und Gruppen)</span><span class="sxs-lookup"><span data-stu-id="f47a3-135">Calendar (users and groups)</span></span>](../api-reference/v1.0/resources/event.md)
- [<span data-ttu-id="f47a3-136">Kontakt</span><span class="sxs-lookup"><span data-stu-id="f47a3-136">Contact</span></span>](../api-reference/v1.0/resources/contact.md)
- [<span data-ttu-id="f47a3-137">Anlage</span><span class="sxs-lookup"><span data-stu-id="f47a3-137">Attachment</span></span>](../api-reference/v1.0/resources/attachment.md)
- [<span data-ttu-id="f47a3-138">Gruppenunterhaltungen</span><span class="sxs-lookup"><span data-stu-id="f47a3-138">Group conversations</span></span>](../api-reference/v1.0/resources/conversation.md)
- [<span data-ttu-id="f47a3-139">Personen und soziale Netzwerke</span><span class="sxs-lookup"><span data-stu-id="f47a3-139">People and social</span></span>](../api-reference/beta/resources/social_overview.md)
- [<span data-ttu-id="f47a3-140">Drive (OneDrive)</span><span class="sxs-lookup"><span data-stu-id="f47a3-140">Drive (OneDrive)</span></span>](../api-reference/v1.0/resources/drive.md)

<span data-ttu-id="f47a3-141">Eine ausführlichere Erläuterung zum Thema Einschränkung in der Microsoft Cloud finden Sie unter [Throttling]((https://msdn.microsoft.com/de-DE/library/office/dn589798.aspx)).</span><span class="sxs-lookup"><span data-stu-id="f47a3-141">For a broader discussion of throttling on the Microsoft Cloud, see [Throttling Pattern]((https://msdn.microsoft.com/de-DE/library/office/dn589798.aspx)).</span></span>
